<\!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>모든 모델 테스트</title>
    <style>
        body { background: #1a1a1a; color: #e0e0e0; font-family: monospace; padding: 20px; }
        .test { margin: 10px 0; padding: 15px; background: #2a2a2a; border-radius: 8px; }
        .success { border-left: 4px solid #22c55e; }
        .error { border-left: 4px solid #ef4444; }
        button { padding: 10px 20px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
    </style>
</head>
<body>
    <h1>6개 모델 실시간 테스트</h1>
    <button onclick="testAll()">모든 모델 테스트</button>
    <div id="results"></div>
    
    <script>
        async function testAll() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            
            // 1. Gemini 2.0 Flash
            await testModel('Gemini 2.0 Flash', async () => {
                const response = await fetch(
                    'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyAmLSwyMGCkDpSojwPjQwTnYmlAQjrdH7g',
                    {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: '한국어로 "안녕"이라고 말해줘' }] }],
                            generationConfig: { temperature: 0.7, maxOutputTokens: 100 }
                        })
                    }
                );
                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || data.error?.message || 'No content';
            });
            
            // 2. Gemini 2.5 Flash
            await testModel('Gemini 2.5 Flash', async () => {
                const response = await fetch(
                    'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAmLSwyMGCkDpSojwPjQwTnYmlAQjrdH7g',
                    {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: '한국어로 "안녕"이라고 말해줘' }] }],
                            generationConfig: { temperature: 0.7, maxOutputTokens: 100 }
                        })
                    }
                );
                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || data.error?.message || 'No content';
            });
            
            // 3. DeepSeek
            await testModel('DeepSeek v3.1', async () => {
                const response = await fetch('http://localhost:11434/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'deepseek-v3.1:671b-cloud',
                        messages: [{ role: 'user', content: '한국어로 "안녕"이라고 말해줘' }],
                        stream: false
                    })
                });
                const data = await response.json();
                return data.message?.content || data.error || 'No content';
            });
            
            // 4. Qwen3
            await testModel('Qwen3 Coder', async () => {
                const response = await fetch('http://localhost:11434/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'qwen3-coder:480b-cloud',
                        messages: [{ role: 'user', content: '한국어로 "안녕"이라고 말해줘' }],
                        stream: false
                    })
                });
                const data = await response.json();
                return data.message?.content || data.error || 'No content';
            });
            
            // 5. GPT-OSS
            await testModel('GPT-OSS', async () => {
                const response = await fetch('http://localhost:11434/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'gpt-oss:120b-cloud',
                        messages: [{ role: 'user', content: '한국어로 "안녕"이라고 말해줘' }],
                        stream: false
                    })
                });
                const data = await response.json();
                return data.message?.content || data.error || 'No content';
            });
            
            // 6. Kimi K2
            await testModel('Kimi K2', async () => {
                const response = await fetch('http://localhost:11434/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'kimi-k2:1t-cloud',
                        messages: [{ role: 'user', content: '한국어로 "안녕"이라고 말해줘' }],
                        stream: false
                    })
                });
                const data = await response.json();
                return data.message?.content || data.error || 'No content';
            });
        }
        
        async function testModel(name, testFn) {
            const div = document.createElement('div');
            div.className = 'test';
            div.innerHTML = `<strong>${name}:</strong> Testing...`;
            document.getElementById('results').appendChild(div);
            
            try {
                const startTime = Date.now();
                const result = await testFn();
                const duration = Date.now() - startTime;
                
                div.className = 'test success';
                div.innerHTML = `<strong>${name}:</strong> ✅ SUCCESS (${duration}ms)<br>Response: ${result.substring(0, 100)}...`;
            } catch (error) {
                div.className = 'test error';
                div.innerHTML = `<strong>${name}:</strong> ❌ ERROR<br>${error.message}`;
            }
        }
    </script>
</body>
</html>
